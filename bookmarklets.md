# bookmarklets for quick recon

1. Extract endpoints from page dom
```
javascript:(async function(){let scanningDiv=document.createElement("div");scanningDiv.style.position="fixed",scanningDiv.style.bottom="0",scanningDiv.style.left="0",scanningDiv.style.width="100%",scanningDiv.style.maxHeight="50%",scanningDiv.style.overflowY="scroll",scanningDiv.style.backgroundColor="white",scanningDiv.style.color="black",scanningDiv.style.padding="10px",scanningDiv.style.zIndex="9999",scanningDiv.style.borderTop="2px solid black",scanningDiv.innerHTML="<h4>Scanning...</h4>",document.body.appendChild(scanningDiv);let e=[],t=new Set;async function n(e){try{const t=await fetch(e);return t.ok?await t.text():(console.error(`Failed to fetch ${e}: ${t.status}`),null)}catch(t){return console.error(`Error fetching ${e}:`,t),null}}function o(e){return(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))&&!e.includes(" ")&&!/[^\x20-\x7E]/.test(e)&&e.length>1&&e.length<200}function s(e){return[...e.matchAll(/['"]((?:\/|\.\.\/|\.\/)[^'"]+)['"]/g)].map(e=>e[1]).filter(o)}async function c(o){if(t.has(o))return;t.add(o),console.log(`Fetching and processing: ${o}`);const c=await n(o);if(c){const t=s(c);e.push(...t)}}const l=performance.getEntriesByType("resource").map(e=>e.name);console.log("Resources found:",l);for(const e of l)await c(e);const i=[...new Set(e)];console.log("Final list of unique paths:",i),console.log("All scanned resources:",Array.from(t)),scanningDiv.innerHTML=`<h4>Unique Paths Found:</h4><ul>${i.map(e=>`<li>${e}</li>`).join("")}</ul>`})();
```

2. Verify reflections from url query parameters
```
javascript:(function(){   const params = new URLSearchParams(window.location.search);   const html = document.documentElement.outerHTML;   const results = [];    for (const [key, value] of params.entries()) {     if (!value) continue;     const reflected = html.includes(value);     results.push(`${reflected ? '%E2%9C%85' : '%E2%9D%8C'} <b>${key}</b> = ${value}`);   }    const box = document.createElement("div");   box.style = "position:fixed;top:10px;right:10px;max-height:90vh;width:300px;overflow:auto;z-index:99999;background:#222;color:#fff;font-family:monospace;font-size:13px;padding:10px;border:2px%20solid%20#fff;border-radius:6px;";%20%20%20box.innerHTML%20=%20`<div%20style="text-align:right;"><button%20onclick="this.parentElement.parentElement.remove()"%20style="background:#ccc;color:#000;border:none;padding:2px%205px;cursor:pointer;border-radius:2px">X</button></div>`%20+%20%20%20%20%20`<h3%20style="margin:5px%200%2010px;color:#fff;">Reflected%20Parameters</h3>`%20+%20%20%20%20%20(results.length%20?%20results.join("<br>")%20:%20"No%20parameters%20found%20or%20no%20reflections.");%20%20%20%20document.body.appendChild(box);%20})();
```

3. js recon for a domain
```
javascript:(function(){var scripts=document.getElementsByTagName("script"),regex=/(?%3C=(\%22|\%27|\`))\/[a-zA-Z0-9_?&=\/\-\#\.]*(?=(\%22|\'|\%60))/g;const%20results=new%20Set;for(var%20i=0;i%3Cscripts.length;i++){var%20t=scripts[i].src;%22%22!=t&&fetch(t).then(function(t){return%20t.text()}).then(function(t){var%20e=t.matchAll(regex);for(let%20r%20of%20e)results.add(r[0])}).catch(function(t){console.log(%22An%20error%20occurred:%20%22,t)})}var%20pageContent=document.documentElement.outerHTML,matches=pageContent.matchAll(regex);for(const%20match%20of%20matches)results.add(match[0]);function%20writeResults(){results.forEach(function(t){document.write(t+%22%3Cbr%3E%22)})}setTimeout(writeResults,3e3);})();
```
